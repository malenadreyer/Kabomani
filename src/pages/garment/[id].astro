---
import Menu from '../../Menu.astro';
import Footer from "../../layout/Footer.astro"
import Button from "../componenter/Button.astro";

export async function getStaticPaths () {
    const data = await fetch ('https://bifxyvyrqkafduaqfwhe.supabase.co/rest/v1/kabomani?select=*', {
	method: "GET",
	headers: {
		apikey: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJpZnh5dnlycWthZmR1YXFmd2hlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTU1MjkzNTksImV4cCI6MjAzMTEwNTM1OX0.IqWoAtIBkjXXKbFnJ9BDvFcyIpgl8_3ZWTFgC0wfLlo"
	},
}).then(response => response.json ());

    return data.map ((shop)=> {
        return {
            params: { id: shop.id},
            props: {myData:shop},
        };
        
        });
    }
    const {myData} = Astro.props;
    console.log(myData)
    
---

<Menu/>

<div class="container">
    <div class="sti">
        <p>Hjem</p>
        <p>></p>
        <p>Tøj</p>
        <p>></p>
        <p>{myData.overskrift}</p>
    </div>

    <div class="img_container">
        <img src={myData.billede} alt="">
    </div>

    <div>
        <div class="produktnavn">
            <h2>{myData.overskrift}</h2>
        </div>
        <div>
            <h3 class="pris">Pris: <span>{myData.price}</span> DKK</h3>
            <p class="beskrivelse">Beskrivelse: {myData.beskrivelse}</p>
            <h3 class="størrelse">Størrelse: <span>{myData.size}</span></h3>
            <h3 class="forretning">Forretning: <span>{myData.forretning}</span></h3>
        </div>
    </div>

    <div class="knapper">
        <Button tekst1="Køb" tekst2="nu"/>
        <button class="hjerte"></button>
    </div>

<div class="line-container">
    <hr class="line">
</div>

</div>

<Footer/>

<Footer/>

<style>
    /* STYLING */
h2{
    color: #262521;
    font-weight: lighter;
}

h3, p{
    color: #262521;
    opacity: 70%;
    font-weight: lighter;
    font-size: 18px;
}

.sti p{
    font-family: Mazius Display;
    opacity: 100%;
}

.pris{
       font-family: Mazius Display;
    opacity: 100%;
    font-size: 20px; 
}


.hjerte{
    border: none;
    border-radius: 5px;
    background-color: #849500;
    width: 50px;
    height: 40px;
    background-image: url('/png/hjerte.png');
    background-size: contain; /* Adjust the image size to cover the button */
    background-repeat: no-repeat;
    padding: -500px;
}

.hjerte:hover{
    background-color: #C8D94A;
}

/* ------------- DESKTOP VIEW ------------ */
@media screen and (min-width: 768px) {
/* LAYOUT */

.sti{
    display: flex;
    justify-content: center;
    gap: 20px;
}

.img_container {
    width: 550px;
    height: 600px; 
    overflow: hidden; /* Hide any overflow */
<<<<<<< HEAD
    margin-top: 100px;
=======
>>>>>>> 0cd07d9840865b96a1b563acf0d88f8890d20685
}

.img_container img {
    width: 100%;  /* Make the image fill the container */
    height: 100%; /* Make the image fill the container */
    object-fit: cover; /* Crop the image to fit the container */
<<<<<<< HEAD
}

}
/* ------------- MOBILE VIEW ------------ */
@media screen and (max-width: 768px) {

/* styling */

h2{
font-size: 30px;
}

.img_container {
    display: flex; 
    justify-content: center; /* Horizontal centering */
    grid-row: 2;
}

.img_container img {
width: 350px;
height: 400px;
overflow: hidden;
}

/* layout */
.sti{
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 4cqb;
}
.container {
    margin-left: 50px;
    margin-right: 50px;
    display: grid;
    grid-template-rows: auto auto 1fr;
    row-gap: 20px;
}

.sti{
    grid-row: 1;
}

.produktnavn{
grid-row: 3;
}

.knapper{
display: flex;
gap: 30px;
justify-content: center;
}

.line-container {
    display: flex;
    justify-content: center;
}

.line {
    border-top: 1px solid black;
    opacity: 50%;
    width: 100%;
    margin: 100px 0;
}

=======
>>>>>>> 0cd07d9840865b96a1b563acf0d88f8890d20685
}
</style>